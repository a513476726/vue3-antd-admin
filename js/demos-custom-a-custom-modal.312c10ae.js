(window.webpackJsonp=window.webpackJsonp||[]).push([["demos-custom-a-custom-modal","a-custom-modal","a-custom-modal-useModal","a-custom-modal-index-vue"],{"22d9":function(e,t,o){"use strict";o.r(t);var n=o("7a23"),l={ref:"modalRootRef",class:"ant-modal-root custom-modal"},c={class:"ant-modal-mask"},a={key:0,ref:"modalWrapRef",class:"ant-modal-wrap"},r={ref:"dragRef",class:"ant-modal"},i={class:"ant-modal-content"},u={ref:"titleRef",class:"ant-modal-header"},s={class:"ant-modal-title"},d={class:"ant-modal-operate"},f={ref:"minRef",type:"button",class:"min",title:"最小化"},b={ref:"maxRef",type:"button",class:"max",title:"最大化"},m={ref:"revertRef",type:"button",class:"revert",title:"还原"},v={ref:"resizeLRef",class:"resizeL"},p={ref:"resizeTRef",class:"resizeT"},O={ref:"resizeRRef",class:"resizeR"},j={ref:"resizeBRef",class:"resizeB"},y={ref:"resizeLTRef",class:"resizeLT"},h={ref:"resizeTRRef",class:"resizeTR"},g={ref:"resizeBRRef",class:"resizeBR"},N={ref:"resizeLBRef",class:"resizeLB"},R={ref:"modalBody",class:"ant-modal-body"},V=Object(n.createTextVNode)(" ① 窗口可以拖动；"),k=Object(n.createVNode)("br",null,null,-1),x=Object(n.createTextVNode)(" ② 窗口可以通过八个方向改变大小；"),T=Object(n.createVNode)("br",null,null,-1),w=Object(n.createTextVNode)(" ③ 窗口可以最小化、最大化、还原、关闭；"),C=Object(n.createVNode)("br",null,null,-1),L=Object(n.createTextVNode)(" ④ 限制窗口最小宽度/高度。 "),z={key:0,ref:"modalFooter",class:"ant-modal-footer"},B=Object(n.createTextVNode)("取 消"),E=Object(n.createTextVNode)("确 认"),M=o("8e1b"),H=o("b548"),S=Object(n.defineComponent)({name:"ACustomModal",components:{Transition:M.Transition},emits:["update:visible"],props:{title:{type:String,default:"标题"},visible:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},footer:{default:"I am footer"},confirmLoading:{type:Boolean,default:!1},centered:{type:Boolean,default:!1}},setup:function(e,t){return Object(H.default)(e,t)}});o("4824"),S.render=function(e,t,o,M,H,S){var W=Object(n.resolveComponent)("a-button");return e.destroyOnClose&&!e.visible?(Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,{key:0},[],64)):(Object(n.openBlock)(),Object(n.createBlock)(n.Teleport,{key:1,to:"body"},[Object(n.createVNode)("div",l,[Object(n.createVNode)(n.Transition,Object(n.mergeProps)({key:"mask"},e.maskTransitionProps),{default:Object(n.withCtx)((function(){return[Object(n.withDirectives)(Object(n.createVNode)("div",c,null,512),[[n.vShow,e.visible]])]})),_:1},16),Object(n.createVNode)(n.Transition,Object(n.mergeProps)({key:"dialog"},e.dialogTransitionProps),{default:Object(n.withCtx)((function(){return[e.visible?(Object(n.openBlock)(),Object(n.createBlock)("div",a,[Object(n.createVNode)("div",r,[Object(n.createVNode)("div",i,[Object(n.createVNode)("div",u,[Object(n.createVNode)("span",s,Object(n.toDisplayString)(e.title),1),Object(n.createVNode)("div",d,[Object(n.createVNode)("button",f,null,512),Object(n.createVNode)("button",b,null,512),Object(n.createVNode)("button",m,null,512),Object(n.createVNode)("button",{type:"button",class:"close",title:"关闭",onClick:t[1]||(t[1]=function(){return e.closeModal&&e.closeModal.apply(e,arguments)})})])],512),Object(n.createVNode)("div",v,null,512),Object(n.createVNode)("div",p,null,512),Object(n.createVNode)("div",O,null,512),Object(n.createVNode)("div",j,null,512),Object(n.createVNode)("div",y,null,512),Object(n.createVNode)("div",h,null,512),Object(n.createVNode)("div",g,null,512),Object(n.createVNode)("div",N,null,512),Object(n.createVNode)("div",R,[Object(n.renderSlot)(e.$slots,"default",{},(function(){return[V,k,x,T,w,C,L]}))],512),null!=e.footer?(Object(n.openBlock)(),Object(n.createBlock)("div",z,[Object(n.renderSlot)(e.$slots,"footer",{},(function(){return[Object(n.createVNode)("div",null,[Object(n.createVNode)(W,{onClick:e.closeModal},{default:Object(n.withCtx)((function(){return[B]})),_:1},8,["onClick"]),Object(n.createVNode)(W,{type:"primary",loading:e.confirmLoading,onClick:e.closeModal},{default:Object(n.withCtx)((function(){return[E]})),_:1},8,["loading","onClick"])])]}))],512)):Object(n.createCommentVNode)("",!0)])],512)],512)):Object(n.createCommentVNode)("",!0)]})),_:3},16)],512)]))},t.default=S},"2f30":function(e,t,o){"use strict";o.r(t);var n=o("7a23"),l=Object(n.withScopeId)("data-v-51ccb668");Object(n.pushScopeId)("data-v-51ccb668");var c=Object(n.createTextVNode)("弹出弹窗");Object(n.popScopeId)();var a,r=l((function(e,t,o,a,r,i){var u=Object(n.resolveComponent)("a-alert"),s=Object(n.resolveComponent)("a-button"),d=Object(n.resolveComponent)("a-card"),f=Object(n.resolveComponent)("a-custom-modal");return Object(n.openBlock)(),Object(n.createBlock)("div",null,[Object(n.createVNode)(u,{message:"自定义模态框",description:"沿用ant-design-vue的modal样式，自定义一个可拖拽、可调整大小的模态框",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),Object(n.createVNode)(d,null,{default:l((function(){return[Object(n.createVNode)(s,{type:"primary",onClick:t[1]||(t[1]=function(t){return e.visible=!0})},{default:l((function(){return[c]})),_:1})]})),_:1}),Object(n.createVNode)(f,{visible:e.visible,"onUpdate:visible":t[2]||(t[2]=function(t){return e.visible=t})},null,8,["visible"])])})),i=o("5530"),u=o("ade3"),s=(o("288f"),o("cdeb")),d=(o("ab9e"),o("2c92")),f=(o("b0c0"),o("c1b0")),b=Object(n.defineComponent)({name:"CustomModal",components:(a={},Object(u.a)(a,d.a.name,d.a),Object(u.a)(a,s.a.name,s.a),Object(u.a)(a,"ACustomModal",f.ACustomModal),a),setup:function(){var e=Object(n.reactive)({visible:!1});return Object(i.a)({},Object(n.toRefs)(e))}});b.render=r,b.__scopeId="data-v-51ccb668",t.default=b},4824:function(e,t,o){"use strict";o("8efa")},"8efa":function(e,t,o){},b548:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return a})),o("99af");var n=o("7a23"),l=o("8e1b"),c=o("7303");function a(e,t){var o=t.emit,a=(t.attrs,Object(n.ref)(null)),r=Object(n.ref)(null),i=Object(n.ref)(null),u=Object(n.ref)(null),s=Object(n.ref)(null),d=Object(n.ref)(null),f=Object(n.ref)(null),b=Object(n.ref)(null),m=Object(n.ref)(null),v=Object(n.ref)(null),p=Object(n.ref)(null),O=Object(n.ref)(null),j=Object(n.ref)(null),y=Object(n.ref)(null),h=Object(n.ref)(null),g=Object(n.ref)(null),N={x:0,y:0},R=function(e){return Object.assign(N,{x:e.pageX,y:e.pageY})};document.documentElement.addEventListener("click",R,!0);var V,k,x,T,w,C=Object(l.getTransitionProps)("fade"),L=Object(l.getTransitionProps)("zoom",{onAfterLeave:function(){return o("update:visible",!1)}}),z=0;function B(e,t,o,n,l,c){t.onmousedown=function(a){var r=a.clientX-t.offsetLeft,u=a.clientY-t.offsetTop,s=e.offsetTop,d=e.offsetLeft,f=e.offsetWidth,b=e.offsetHeight,m=function(a){var m=a.clientX-r,v=a.clientY-u,p=document.documentElement.clientWidth-e.offsetLeft-2,O=document.documentElement.clientHeight-e.offsetTop-2,j=o?f-m:t.offsetWidth+m,y=n?b-v:t.offsetHeight+v;return o&&(e.style.left=d+m+"px"),n&&(e.style.top=s+v+"px"),j<400&&(j=400),j>p&&(j=p),l||(i.value.style.width=j+"px"),y<140&&(y=140),y>O&&(y=O),c||(i.value.style.height=y-z-w+"px"),(o&&400==j||n&&140==y)&&(document.onmousemove=null),(o||n)&&(document.onmousemove=null),!1};return document.addEventListener("mousemove",m),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",e)})),!1}}var E=function(){var t,o,n;t=a.value,o=s.value,n=0,(o=o||t).style.cursor="move",o.onmousedown=function(e){n=e.clientX-t.offsetLeft;var o=e.clientY-t.offsetTop,l=function(e){var l=e.clientX-n,c=e.clientY-o,a=document.documentElement.clientWidth-t.offsetWidth,r=document.documentElement.clientHeight-t.offsetHeight;return l<=0&&(l=0),c<=0&&(c=0),l>=a&&(l=a),c>=r&&(c=r),t.style.left=l+"px",t.style.top=c+"px",!1};return document.addEventListener("mousemove",l),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e)})),!1},h.value.onclick=function(){var e=getComputedStyle(t),o=e.left,n=e.top,l=getComputedStyle(i.value),c=l.width,a=l.height;V=c,k=a,x=o,T=n,t.style.top=t.style.left=0,t.style.width=document.documentElement.clientWidth-2+"px",t.style.height=document.documentElement.clientHeight-2+"px",i.value.style.width=t.style.width,i.value.style.height=parseFloat(t.style.height)-w-z+"px",this.style.display="none",g.value.style.display="block"},g.value.onclick=function(){i.value.style.height=k,i.value.style.width=V,t.style.width=t.style.height="unset",t.style.left=x,t.style.top=T,this.style.display="none",h.value.style.display="block"},B(a.value,v.value,!0,!0,!1,!1),B(a.value,p.value,!1,!0,!1,!1),B(a.value,O.value,!1,!1,!1,!1),B(a.value,j.value,!0,!1,!1,!1),B(a.value,d.value,!0,!1,!1,!0),B(a.value,f.value,!1,!0,!0,!1),B(a.value,b.value,!1,!1,!1,!0),B(a.value,m.value,!1,!1,!0,!1),a.value.style.left=(document.documentElement.clientWidth-a.value.offsetWidth)/2+"px",a.value.style.top=e.centered?(document.documentElement.clientHeight-a.value.offsetHeight)/2+"px":"100px";var l=a.value.getBoundingClientRect(),c=l.left,u=l.top,y=N.x,R=N.y;r.value.style.transformOrigin="".concat(y-c,"px ").concat(R-u,"px")},M=Object(c.a)(E,30);return Object(n.onMounted)((function(){Object(n.watch)((function(){return e.visible}),(function(e){e&&(Object(n.nextTick)((function(){var e,t;w=(null===(e=s.value)||void 0===e?void 0:e.offsetHeight)||0,z=(null===(t=u.value)||void 0===t?void 0:t.offsetHeight)||0,E()})),window.addEventListener("resize",M))}),{immediate:!0})})),Object(n.onBeforeUnmount)((function(){window.removeEventListener("resize",M),document.documentElement.removeEventListener("click",R,!0),M.cancel})),{dragRef:a,modalWrapRef:r,modalBody:i,modalFooter:u,titleRef:s,resizeLRef:d,resizeTRef:f,resizeRRef:b,resizeBRef:m,resizeLTRef:v,resizeTRRef:p,resizeBRRef:O,resizeLBRef:j,minRef:y,maxRef:h,revertRef:g,maskTransitionProps:C,dialogTransitionProps:L,closeModal:function(){o("update:visible",!1)}}}},c1b0:function(e,t,o){"use strict";o.r(t);var n=o("22d9");o.d(t,"ACustomModal",(function(){return n.default}))}}]);